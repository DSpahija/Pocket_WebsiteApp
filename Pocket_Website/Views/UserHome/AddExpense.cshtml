@model Pocket_Website.Models.Expens
@{
    ViewBag.Title = "AddExpense";
}

<h2>AddExpenses</h2>

<div>
    <!--
    <br />
    <h4>
        1 - Homecare;
        2 - Utilities;
        3 - Wardrobe;
        4 - Holidays;
        5 - Medical;
        6 - Loans;
        7 - Savings;
        8 - Emergency;
        9 - Extra;
    </h4>
    -->
</div>
<div>
    @using (Html.BeginForm())
    {

        <div class="container" style="width:50%; margin:0 auto;">
            <div class="form-group">
                @Html.LabelFor(model => model.ExpensesCategory, htmlAttributes: new
           {
               @class = "control-label col-md-4",
               @style = "font-weight:normal"
           })
                <div class="col-md-8">
                    <select id="Categories" class="form-control" style="margin-bottom:20px; color:black">
                        <option value="" disabled selected>Select category</option>
                        <option value="1">Homecare</option>
                        <option value="2">Utilities</option>
                        <option value="3">Wardrobe</option>
                        <option value="4">Holidays</option>
                        <option value="5">Medical</option>
                        <option value="6">Loans</option>
                        <option value="7">Savings</option>
                        <option value="8">Emergency</option>
                        <option value="9">Extra</option>
                    </select>
                </div>
                
               <!-- <div class="col-md-8">
                    <select id="Categories" class="form-control" style="margin-bottom:20px; color:black">
                        <option value="" disabled selected>Select category</option>
                        <option value="1">Homecare</option>
                        <option value="2">Utilities</option>
                        <option value="3">Wardrobe</option>
                        <option value="4">Holidays</option>
                        <option value="5">Medical</option>
                        <option value="6">Loans</option>
                        <option value="7">Savings</option>
                        <option value="8">Emergency</option>
                        <option value="9">Extra</option>
                    </select>
                </div>-->
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.ExpensesType, htmlAttributes: new
           {
               @class = "control-label col-md-4",
               @style = "font-weight:normal",
           })
                <div class="col-md-8">
                    <select id="Types"
                            class="form-control" style="margin-bottom:20px; color:black"></select>
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.TotalExpenses, htmlAttributes: new
           {
               @class = "control-label col-md-4",
               @style = "font-weight:normal"
           })
                <div class="col-md-8">
                    @Html.EditorFor(model => model.TotalExpenses, new { htmlAttributes = new { @class = "form-control", @style = "margin-bottom:20px" } })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.ExpensesDate, htmlAttributes: new
           {
               @class = "control-label col-md-4",
               @style = "font-weight:normal"
           })
                <div class="col-md-8">
                    @Html.EditorFor(model => model.ExpensesDate, new { htmlAttributes = new { @class = "form-control", @style = "margin-bottom:20px" } })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Notes, htmlAttributes: new
           {
               @class = "control-label col-md-4",
               @style = "font-weight:normal"
           })
                <div class="col-md-8">
                    @Html.EditorFor(model => model.Notes, new { htmlAttributes = new { @class = "form-control", @style = "margin-bottom:40px" } })
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-offset-5 col-md-7">
                    <input type="submit" value="Add" class="btn btn-default" style="width:100px;" />
                </div>
            </div>
            <br />
        </div>
    }
</div>
<script>
    $("#Categories").on("change", function(){
    showValue($(this).val());
})

function showValue(val)
{
    console.log(val);
    $.getJSON('@Url.Action("GetDropdownListTypes", "UserHome")' + "?value=" + val, function (result) {
            $("#Types").html(""); // makes select null before filling process
            var data = result.data;
            for (var i = 0; i < data.length; i++) {
                $("#Types").append("<option>"+ data[i] +"</option>")
            }

    })
}
</script>